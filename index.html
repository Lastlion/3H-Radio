<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ã‰diteur HTML Simple avec Son</title>
<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: #121212;
    color: #fff;
    font-family: Arial, sans-serif;
    overflow: hidden;
}
.section {
    display: flex;
    flex-direction: column;
}
/* Ã‰DITEUR (plus petit) */
.editor {
    flex: 0 0 35%;
}
/* RENDU (plus grand) */
.preview {
    flex: 0 0 65%;
}
h2 {
    margin: 6px 10px;
    font-size: 14px;
}
/* textarea */
textarea {
    flex: 1;
    width: 100%;
    border: none;
    outline: none;
    resize: none;
    padding: 12px;
    font-size: 16px;
    font-family: monospace;
    background: #1e1e1e;
    color: #fff;
}
/* iframe */
iframe {
    flex: 1;
    width: 100%;
    border: none;
    background: white;
}
/* PC : deux colonnes */
@media (min-width: 769px) {
    body {
        flex-direction: row;
    }
    .editor, .preview {
        flex: 1;
    }
    h2 {
        display: none;
    }
}
</style>
</head>
<body>

<!-- Ã‰DITEUR -->
<div class="section editor">
    <h2>HTML</h2>
    <textarea id="htmlCode">
<div style="padding:20px; background:#0074D9; color:white; border-radius:10px; text-align:center;">
  ICI VOTRE HTML ! ðŸ‘Œ
  <br><br>
  <audio autoplay>
    <source src="" type="audio/mpeg">
    Votre navigateur ne supporte pas lâ€™audio HTML5.
  </audio>
</div>
    </textarea>
</div>

<!-- RENDU -->
<div class="section preview">
    <h2>Rendu en temps rÃ©el</h2>
    <iframe id="preview"></iframe>
</div>

<script>
const htmlCode = document.getElementById("htmlCode");
const preview = document.getElementById("preview");

function updatePreview() {
    preview.srcdoc = htmlCode.value;

    // Essayer de lancer le son si l'autoplay est bloquÃ©
    const tryAudio = preview.contentDocument.querySelector('audio');
    if(tryAudio){
        tryAudio.volume = 0.8;
        tryAudio.play().catch(()=>console.log('Autoplay bloquÃ©, clic requis'));
    }
}

htmlCode.addEventListener("input", updatePreview);
updatePreview();
</script>

</body>
</html>
